{
  "base": "main",
  "commitMessage": "fix: keyStatus strings + reveal logic",
  "replacements": [
    {
      "file": "index.html",
      "find": "const apiKeyInput = $(\"#apiKey\", left); const keyStatus = $(\"#keyStatus\", left); const saved = getOpenAIKey(); if (apiKeyInput) { apiKeyInput.type = \"password\"; apiKeyInput.value = \"\"; } if (keyStatus) { keyStatus.textContent = saved ? Key saved (ends with …${saved.slice(-4)}). : \"No key saved.\"; } $(\"#saveKey\", left).onclick = () => { setOpenAIKey(apiKeyInput.value); const saved2 = getOpenAIKey(); if (keyStatus) keyStatus.textContent = saved2 ? Key saved (ends with …${saved2.slice(-4)}). : \"No key saved.\"; if (apiKeyInput) { apiKeyInput.type = \"password\"; apiKeyInput.value = \"\"; } const r = $(\"#revealKey\", left); if (r) r.textContent = \"Reveal\"; toast(saved2 ? \"Saved key.\" : \"Key cleared.\"); }; $(\"#clearKey\", left).onclick = () => { setOpenAIKey(\"\"); if (keyStatus) keyStatus.textContent = \"No key saved.\"; if (apiKeyInput) { apiKeyInput.type = \"password\"; apiKeyInput.value = \"\"; } const r = $(\"#revealKey\", left); if (r) r.textContent = \"Reveal\"; toast(\"Cleared.\"); }; let revealed = false; $(\"#revealKey\", left).onclick = () => { const k = getOpenAIKey(); if (!k) return toast(\"No key saved.\"); revealed = !revealed; apiKeyInput.type = revealed ? \"text\" : \"password\"; apiKeyInput.value = revealed ? k : \"\"; $(\"#revealKey\", left).textContent = revealed ? \"Hide\" : \"Reveal\"; };",
      "replace": "const apiKeyInput = $(\"#apiKey\", left);\n    const keyStatus = $(\"#keyStatus\", left);\n    const saved = getOpenAIKey();\n\n    if (apiKeyInput) {\n      apiKeyInput.type = \"password\";\n      apiKeyInput.value = \"\";\n    }\n    if (keyStatus) {\n      keyStatus.textContent = saved ? `Key saved (ends with …${saved.slice(-4)}).` : \"No key saved.\";\n    }\n\n    $(\"#saveKey\", left).onclick = () => {\n      setOpenAIKey(apiKeyInput.value);\n      const saved2 = getOpenAIKey();\n      if (keyStatus) keyStatus.textContent = saved2 ? `Key saved (ends with …${saved2.slice(-4)}).` : \"No key saved.\";\n      if (apiKeyInput) {\n        apiKeyInput.type = \"password\";\n        apiKeyInput.value = \"\";\n      }\n      const r = $(\"#revealKey\", left);\n      if (r) r.textContent = \"Reveal\";\n      toast(saved2 ? \"Saved key.\" : \"Key cleared.\");\n    };\n\n    $(\"#clearKey\", left).onclick = () => {\n      setOpenAIKey(\"\");\n      if (keyStatus) keyStatus.textContent = \"No key saved.\";\n      if (apiKeyInput) {\n        apiKeyInput.type = \"password\";\n        apiKeyInput.value = \"\";\n      }\n      const r = $(\"#revealKey\", left);\n      if (r) r.textContent = \"Reveal\";\n      toast(\"Cleared.\");\n    };\n\n    let revealed = false;\n    $(\"#revealKey\", left).onclick = () => {\n      const k = getOpenAIKey();\n      if (!k) return toast(\"No key saved.\");\n      revealed = !revealed;\n      apiKeyInput.type = revealed ? \"text\" : \"password\";\n      apiKeyInput.value = revealed ? k : \"\";\n      $(\"#revealKey\", left).textContent = revealed ? \"Hide\" : \"Reveal\";\n    };"
    }
  ]
}
